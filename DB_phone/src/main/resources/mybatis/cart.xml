<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cart">

	<delete id="delete" parameterType="int">
		delete from cart
		where
		cartnum =
		#{cartnum}
	</delete>

	<update id="update" parameterType="CartDTO">
		update cart set
		quantity=#{quantity}
		where cartnum = #{cartnum}
	</update>

	<insert id="create" parameterType="CartDTO">
		insert into
		cart(quantity,totalprice,id,pcode,ccolor,totalquantity,devtype,casetype)
		values(#{quantity},#{totalprice},#{id},#{pcode},#{ccolor}
		,#{totalquantity},#{devtype},#{casetype})
	</insert>

	<select id="list" resultType="CartDTO" parameterType="Map">
		select
		c.cartnum,c.quantity,c.totalprice,c.id,c.pcode,c.ccolor,c.totalquantity
		,c.devtype,c.casetype
		from cart as c
		
		inner join look_member as m
		on c.id = m.id
		
		inner join product as p
		on c.pcode = p.pcode
		
		order by c.cartnum DESC;
	</select>


</mapper>